# Release guide â€” NeuroMuscleAI-MVP

This document describes a recommended release workflow for publishing versions of NeuroMuscleAI-MVP on GitHub.

Goals:
- Provide a reproducible package/source for others to run experiments.
- Avoid pushing large model/artifact binaries into Git history.
- Offer a stable downloadable artifact (GitHub Release asset or external storage link).

1) Prepare repository and version tag

- Update `CHANGELOG.md` or note the major changes in the release notes (create a short summary).
- Bump version in your project (optional): add a `VERSION` file or tag the release.
- Create an annotated tag locally:

```powershell
# replace X.Y.Z with your release version
git tag -a vX.Y.Z -m "Release vX.Y.Z - short summary"
```

2) Build release assets

- Do NOT include large model files in the git repo. Use one of these strategies:
  - Attach model weights and large artifacts to the GitHub Release as assets.
  - Upload large artifacts to external storage (S3, GCS, Zenodo) and link from the release notes.
  - Use Git LFS for moderately large files (requires LFS on both local and remote).

- Recommended minimal release assets:
  - `source.zip` (auto-generated by GitHub when tagging a release)
  - `README.pdf` or `docs/` (optional)
  - `models/README.md` describing where model weights can be downloaded
  - Optional: compressed model weights (e.g., `model_vX.Y.Z_weights.zip`) uploaded as Release assets or stored externally.

3) Create the GitHub Release (two common ways)

A) Via GitHub web UI (recommended for manual releases):
- Go to your repository -> Releases -> Draft a new release.
- Choose the tag (vX.Y.Z). If the tag doesn't exist, you can create it here.
- Fill the release title and body (changelog summary, links to pretrained weights or instructions to reproduce results).
- Upload assets (model weights) via the web UI or provide download links to external storage.
- Publish release.

B) Via command line (using GitHub CLI):

```powershell
# Create release and upload asset using gh (needs GitHub CLI installed & authenticated)
gh release create vX.Y.Z "path/to/model_vX.Y.Z_weights.zip" --title "vX.Y.Z" --notes-file RELEASE_NOTES.md
```

4) Release notes and reproducibility

- In the release notes include:
  - Short summary of changes
  - Exact command used to run the k-fold demo from this release
  - Links to datasets or instructions for obtaining the data
  - SHA or tag used and environment details (Python version, key package versions)

Example reproducible command to include in notes:

```powershell
python -m venv .venv; .\.venv\Scripts\Activate.ps1
pip install -r requirements.txt
python train.py --config config.yaml --k_folds 5 --epochs 10
```

5) Handling large model files

- Option A (recommended): upload models to cloud storage and put stable signed links in the Release notes.
- Option B: upload model archive as a Release asset (keeps everything on GitHub but increases repo size for forks/downloads).
- Option C: use Git LFS for tracked large files (setup required for all collaborators):

```powershell
git lfs install
git lfs track "models/*.pth"
git add .gitattributes
git commit -m "chore: track model weights with Git LFS"
```

6) Post-release housekeeping

- Add release notes to `CHANGELOG.md`.
- If you used a temporary `models/` upload in the repo, remove tracked large files and ensure `.gitignore` excludes them going forward.

7) Troubleshooting

- If release upload fails due to size limits, use external storage (S3/Zenodo) and reference the stable link.
- If you need to remove large files from history after pushing, use `git filter-repo` or BFG and then force-push (coordinate with collaborators).

---

If you want, I can also:
- Create a `CHANGELOG.md` template and a `RELEASE_NOTES.md` to use when drafting releases.
- Help upload a model artifact to a storage provider and attach it to a release (you'll need to provide credentials or do the upload yourself and give me the final URL).
